<div class="card mb-12">
  <div class="text-center card-header">
    
  </div>
  <div class="card-body">
      <div class="well profile_view card-shadow">
          <div class="row">
              <span class="col-sm-8">
                <i class="fa fa-line-chart"></i> <%= t('partner.dashboard.chart5.title') %>
              </span>
              <span class="col-sm-4">
                  <select class="form-control" style="">
                      <option>1</option>
                  </select>
              </span>
          </div>
        
        <div class="col-sm-12">
          <canvas class="hide" id="chart5" width="100%" height="40"></canvas>
          <div class="no-data-found" id="not-found5">
            <div>
              <i class="fa fa-exclamation-circle" aria-hidden="true"></i> <%= t('partner.dashboard.error.msg') %>
            </div>
        </div>
        </div>
        <br />
        
    </div>
    
  </div>
</div>


<script type="text/javascript">
  $(document).ready(function () {

    var chartJson = $.ajax({url: "/partners/dashboard/chart5.json"})
    .done(function() {

      var array = JSON.parse(chartJson.responseText);

      var chartlabels = array.labels;
      
      console.log(chartlabels);
      var chartData = array.data;
      if(chartData.length < 1){
        dataIsFound(false, 7);
        return;
      }
      var ctx = document.getElementById("chart5");
        var gradient = ctx.getContext('2d').createLinearGradient(0, 0, 0, 200);

        gradient.addColorStop(0, 'rgba(2,117,216,0.6)');
        gradient.addColorStop(0.2, 'rgba(2,117,216,0.4)');
        gradient.addColorStop(0.5, 'rgba(2,117,216,0.2)');
        gradient.addColorStop(1, 'rgba(2,117,216,0.05)');

      var data = {
        labels: chartlabels,
        datasets: [
          {
            label: "# of Activities",
            backgroundColor: gradient,
            borderColor:"rgba(2,117,216,1)",
            pointRadius:5,
            pointBackgroundColor:"rgba(2,117,216,1)",
            pointBorderColor:"rgba(255,255,255,0.8)",
            pointHoverRadius:5,
            pointHoverBackgroundColor:"rgba(2,117,216,1)",
            pointHitRadius:20,pointBorderWidth:2,
            data: chartData
          }
        ]
      };

      var options =
        {
          
          backgroundColor: "rgba(0,0,0,1)",
          scales: {
            xAxes: [{
              gridLines: {
                display: false
              }
            }],
            yAxes: [{
               ticks: {
                 
                 maxTicksLimit: 6
               },
              gridLines: {
                display: false
              }
            }],
          },
          legend: {
            display: false
          }
        };

      var myLineChart = new Chart(ctx, {
        type: 'line',
        data: data,
        options: options
      });
      dataIsFound(true, 5);
    })
    .fail(function(){
      dataIsFound(false, 5);
    });

  });

</script>
