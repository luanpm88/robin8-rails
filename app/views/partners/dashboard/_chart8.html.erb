<div class="card mb-12">
  <div class="text-center card-header">
    
  </div>
  <div class="card-body">
      <div class="well profile_view card-shadow">
          <div class="row">
              <span class="col-sm-8">
                <i class="fa fa-line-chart"></i> <%= t('partner.dashboard.chart8.title') %>
              </span>
              <span class="col-sm-4">
                  <select class="form-control" style="">
                      <option>1</option>
                  </select>
              </span>
          </div>
        
        <div class="col-sm-12">
          <canvas class="hide" id="chart8" width="100" height="100"></canvas>
          <div class="no-data-found" id="not-found8">
            <div>
              <i class="fa fa-exclamation-circle" aria-hidden="true"></i> <%= t('partner.dashboard.error.msg') %>
            </div>
        </div>
        </div>
        <br />
        
    </div>
    
  </div>
</div>

<script type="text/javascript">
  $(document).ready(function () {
    
    $.ajax({url: "/partners/dashboard/chart8.json", async: true})
    .done(function(chartJson) {
      if(chartJson.data.length < 1){
        dataIsFound(false, 8);
        return;
      }
      
      var chartlabels = chartJson.labels;

      var chartData = chartJson.data;
      
      var ctx = $("#chart8");
      var myLineChart = new Chart(ctx.get(0), {
        type: 'horizontalBar',
        data: {
          labels: chartlabels,
          datasets: [{
            label: "用户标签统计",
            backgroundColor: [
              'rgba(0, 93, 255, 0.8)',
              'rgba(208, 53, 69, 0.8)',
              'rgba(255, 193, 7, 0.8)',
              'rgba(40, 107, 69, 0.8)',
              'rgba(0, 159, 255, 0.8)'
            ],

            borderColor: "rgba(2,117,216,1)",
            data: chartData, 
          }],
        },
        options: {

          scales: {
            xAxes: [{

              gridLines: {
                display: false
              },
            }],
            yAxes: [{
              gridLines: {
                display: false
              }
            }],
          },
          legend: {
            display: false
          }
        }
      });
      dataIsFound(true, 8);
      
    })
    .fail(function(){
      dataIsFound(false, 8);
    });
  });
</script>